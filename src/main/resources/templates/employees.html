<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Employee Management</title>
	<!-- Include Bootstrap -->
	<!-- Bootstrap CSS CDN -->
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

	<!-- Optional Bootstrap JS and jQuery for interactive components -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>

	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

	<div class="container mt-5">
		<h1 class="text-center">Employee Management</h1>

		<!-- Success Message -->
		<div th:if="${addedSuccessfully}" class="alert alert-success" role="alert">
			Employee added successfully!
		</div>

		<!-- Employee Form -->
		<div class="card mb-4">
			<div class="card-header">Add New Employee</div>
			<div class="card-body">
				<form action="#" th:action="@{/employees/add}" th:object="${employee}" method="post">
					<div class="form-group">
						<label for="name">Name</label>
						<input type="text" id="name" th:field="*{name}" class="form-control" required />
					</div>

					<div class="form-group">
						<label for="department">Department</label>
						<input type="text" id="department" th:field="*{department}" class="form-control" required />
					</div>

					<div class="form-group">
						<label for="salary">Salary</label>
						<input type="number" id="salary" th:field="*{salary}" class="form-control" required />
					</div>

					<button type="submit" class="btn btn-primary">Add Employee</button>
				</form>
			</div>
		</div>

		<!-- Employee List -->
		<h2 class="text-center">Employee List</h2>
		<table class="table table-bordered table-hover">
			<thead class="thead-dark">
				<tr>
					<th>ID</th>
					<th>Name</th>
					<th>Department</th>
					<th>Salary</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="employee : ${employees}">
					<td th:text="${employee.id}"></td>
					<td th:text="${employee.name}"></td>
					<td th:text="${employee.department}"></td>
					<td th:text="${employee.salary}"></td>
				</tr>
			</tbody>
		</table>

		<!-- Download Excel Button (only when employees exist) -->
		<div th:if="${not #lists.isEmpty(employees)}" class="text-center">
			<a href="/employees/excel" class="btn btn-success">Download Excel</a>
		</div>
	</div>

	<!-- Bootstrap JS and jQuery -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>